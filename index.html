<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Generate 1MB Base64 in ZIP</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
</head>
<body style="font-family:sans-serif; background:#0f172a; color:#e6eef8; display:flex; flex-direction:column; align-items:center; justify-content:center; min-height:100vh; gap:20px;">

  <h1>1 MB Base64 Generator (ZIP)</h1>
  <button id="optA" style="padding:12px 20px; border-radius:8px; border:none; background:#0ea5e9; color:#04233a; font-size:16px; cursor:pointer;">
    Option A: Base64 टेक्स्ट = 1MB (.b64 in zip)
  </button>

  <button id="optB" style="padding:12px 20px; border-radius:8px; border:none; background:#0ea5e9; color:#04233a; font-size:16px; cursor:pointer;">
    Option B: Decoded Binary = 1MB (.bin + .b64 in zip)
  </button>

  <pre id="status" style="margin-top:20px; font-size:14px; color:#9fb0cf;"></pre>

<script>
function downloadZip(name, zip){
  zip.generateAsync({type:"blob"}).then(blob=>{
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = name;
    document.body.appendChild(a); a.click(); a.remove();
    URL.revokeObjectURL(a.href);
  });
}

document.getElementById('optA').onclick = async ()=>{
  const status = document.getElementById('status');
  status.textContent = "Generating Option A...";
  const S = 786430; // decoded bytes → base64 length = 1,048,576
  const arr = new Uint8Array(S); // zeros
  const blob = new Blob([arr]);
  const dataUrl = await new Promise(res=>{
    const r = new FileReader();
    r.onload = ()=>res(r.result);
    r.readAsDataURL(blob);
  });
  const base64 = dataUrl.split(',')[1]; // strip prefix
  status.textContent = "Base64 length: " + base64.length + " bytes";
  const zip = new JSZip();
  zip.file("one_mb_base64.b64", base64);
  downloadZip("one_mb_base64.zip", zip);
};

document.getElementById('optB').onclick = async ()=>{
  const status = document.getElementById('status');
  status.textContent = "Generating Option B...";
  const S = 1024*1024; // 1MB binary
  const arr = new Uint8Array(S);
  const blob = new Blob([arr]);
  const dataUrl = await new Promise(res=>{
    const r = new FileReader();
    r.onload = ()=>res(r.result);
    r.readAsDataURL(blob);
  });
  const base64 = dataUrl.split(',')[1];
  status.textContent = "Binary size: " + S + " bytes, Base64 length: " + base64.length;
  const zip = new JSZip();
  zip.file("binary_1mb.bin", arr);
  zip.file("binary_1mb.b64", base64);
  downloadZip("decoded_1mb.zip", zip);
};
</script>
</body>
</html>